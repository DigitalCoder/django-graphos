<script>
$(function () {
    var chart = c3.generate({
        bindto: '#{{ chart.get_html_id }}',
        {% if chart.get_chart_type == 'pie' %}
            data: {
                columns: {{ chart.get_pie_data|safe }},
                type: "{{ chart.get_chart_type }}"
            }
        {% elif chart.get_chart_type == 'column' %}
            data: {
                x: "{{ chart.get_x_axis_title }}",
                columns: {{ chart.get_columns_data|safe }},
                type: "bar"
            },
            axis: {
                rotated: true
            }
        {% elif chart.get_chart_type == 'donut' %}
            data: {
                columns: {{ chart.get_columns_data|safe }},
                type: "{{ chart.get_chart_type }}"
            },
            donut: {
                title: "{{ chart.get_options.title }}"
            }
        {% else %}
            data: {
                x: "{{ chart.get_x_axis_title }}",
                columns: {{ chart.get_columns_data|safe }},
                type: "{{ chart.get_chart_type }}"
            }
        {% endif %}
    });
});
</script>
