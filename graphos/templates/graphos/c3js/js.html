<script>
$(function () {
    {% if chart.get_chart_type == 'pie' %}
        var chart = c3.generate({
            bindto: '#{{ chart.get_html_id }}',
            data: {
                columns: {{ chart.get_pie_data|safe }},
                type: "{{ chart.get_chart_type }}"
            }
        });
    {% elif chart.get_chart_type == 'column' %}
        var chart = c3.generate({
            bindto: '#{{ chart.get_html_id }}',
            data: {
                x: "{{ chart.get_x_axis_title }}",
                columns: {{ chart.get_columns_data|safe }},
                type: "bar"
            },
            axis: {
                rotated: true
            }
        });
    {% elif chart.get_chart_type == 'donut' %}
        var chart = c3.generate({
            bindto: '#{{ chart.get_html_id }}',
            data: {
                x: "{{ chart.get_x_axis_title }}",
                columns: {{ chart.get_columns_data|safe }},
                type: "{{ chart.get_chart_type }}"
            },
            donut: {
                title: "{{ chart.get_options.title }}"
            }
        });
    {% else %}
        var chart = c3.generate({
            bindto: '#{{ chart.get_html_id }}',
            data: {
                x: "{{ chart.get_x_axis_title }}",
                columns: {{ chart.get_columns_data|safe }},
                type: "{{ chart.get_chart_type }}"
            }
        });
    {% endif %}
});
</script>
